<!DOCTYPE html>
<html>

   <head>
      <meta charset = "UTF-8">
      <title>Annotation</title>
      <link rel="stylesheet" href="./style/ann_menu.css">
   </head>

   <body>
      <div id="entete">
         <a id="top" href="../index.html"> Home </a>
         <a id="top" href="./about.html">About </a>
         <a id="top" href="./tutorial.html">Tutorials</a>

      </div>
      <div id="main">
         <div id="menu">
            <button id="WriteBtn" type="button" class="btn">Ecrire mon texte</button>
            <button id="AddtxtBtn" type="button" class="btn">Importer texte</button>
            <button id="AnnoterBtn" type="button" class="btn">Annoter tout le texte</button>
            <button id="AnnoterPartBtn" type="button" class="btn" onclick="GetSelectedText()">Annoter</button>
            <button id="clearBtn" type="button" class="btn">Effacer</button>
            <button id="Refresh" type="button" class="btn">Reprendre l'ancien travail</button>
            <button id="DownloadBtn" type="button" class="btn">Télécharger JSON</button>
         </div>
         <div id="contenu">
            <div id="Inputtxt"></div>
        </div>

      </div>
      <script src = "./menu.js"></script>
      <script  src="./ann_menu.js"> </script>
   </body>
</html>

<script text="javascript">
   //const { ipcRenderer } = require('electron')

   function GetSelectedText(){
      var selectedText = '';
      if (window.getSelection) {
         selectedText = window.getSelection();
      }
      else if (document.getSelection) {
         selectedText = document.getSelection();
      }
      else if (document.selection) {
         selectedText = document.selection.createRange().text;
      } else return;

      // Send selectedText to main process
      var textSelected = selectedText.toString()
      console.log(ipcRenderer.send('text-selection', textSelected))
   }

</script>
